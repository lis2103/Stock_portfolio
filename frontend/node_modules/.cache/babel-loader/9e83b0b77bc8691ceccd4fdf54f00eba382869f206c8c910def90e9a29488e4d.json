{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useLocation,useParams}from\"react-router-dom\";import{Table,TableHeader,TableColumn,TableBody,TableRow,TableCell}from\"@nextui-org/react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Content=_ref=>{let{marginTop=\"20px\"}=_ref;const location=useLocation();const[stockInfo,setStockInfo]=useState([]);const{ticker}=useParams();const isSummaryPage=location.pathname.includes(\"summary\")||typeof ticker===\"undefined\";console.log({location,stockInfo,isSummaryPage,ticker});useEffect(()=>{// Check if the ticker is defined before attempting to fetch stock info\nif(ticker){fetch(\"https://mcsbt-integration-vr.ew.r.appspot.com/\".concat(ticker)).then(response=>{if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}return response.json();}).then(data=>{if(data&&data.stock_info){let formattedData=Object.entries(data.stock_info).map(_ref2=>{let[date,info]=_ref2;return{date,open:info[\"1. open\"],high:info[\"2. high\"],low:info[\"3. low\"],close:info[\"4. close\"],volume:info[\"5. volume\"]};});formattedData.sort((a,b)=>b.date.localeCompare(a.date));setStockInfo(formattedData);}else{console.error(\"Missing or invalid stock_info data\");setStockInfo([]);}}).catch(error=>{console.error(\"Error fetching stock information:\",error);setStockInfo([]);});}},[ticker]);// Depend on ticker for re-fetching data\nconst displayTicker=ticker?ticker.toUpperCase():\"N/A\";if(isSummaryPage){return/*#__PURE__*/_jsx(\"div\",{style:{marginTop,width:\"100%\",maxWidth:\"800px\",textAlign:\"center\",color:\"green\",// Adjust the color for the summary page\nbackground:\"purple\",// Light background color for contrast\npadding:\"20px\",borderRadius:\"8px\",boxShadow:\"0 4px 14px 0 rgba(0,0,0,0.1)\"},children:/*#__PURE__*/_jsx(\"h1\",{children:\" LISTOCK\"})});}return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop,width:\"100%\",maxWidth:\"800px\"},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{color:\"purple\",margin:\"0 0 20px\",fontWeight:\"800\",fontSize:\"20px\"},children:[displayTicker,\" ($)\"]}),/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"Stock\",children:[/*#__PURE__*/_jsxs(TableHeader,{children:[/*#__PURE__*/_jsx(TableColumn,{width:\"30%\",children:\"Date\"}),/*#__PURE__*/_jsx(TableColumn,{width:\"30%\",children:\"Open\"}),/*#__PURE__*/_jsx(TableColumn,{width:\"30%\",children:\"High\"}),/*#__PURE__*/_jsx(TableColumn,{width:\"30%\",children:\"Low\"}),/*#__PURE__*/_jsx(TableColumn,{width:\"30%\",children:\"Close\"}),/*#__PURE__*/_jsx(TableColumn,{width:\"30%\",children:\"Volume\"})]}),/*#__PURE__*/_jsx(TableBody,{children:stockInfo.map((info,index)=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:info.date}),/*#__PURE__*/_jsx(TableCell,{children:info.open}),/*#__PURE__*/_jsx(TableCell,{children:info.high}),/*#__PURE__*/_jsx(TableCell,{children:info.low}),/*#__PURE__*/_jsx(TableCell,{children:info.close}),/*#__PURE__*/_jsx(TableCell,{children:info.volume})]},index))})]})]});};export default Content;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useParams","Table","TableHeader","TableColumn","TableBody","TableRow","TableCell","jsx","_jsx","jsxs","_jsxs","Content","_ref","marginTop","location","stockInfo","setStockInfo","ticker","isSummaryPage","pathname","includes","console","log","fetch","concat","then","response","ok","Error","status","json","data","stock_info","formattedData","Object","entries","map","_ref2","date","info","open","high","low","close","volume","sort","a","b","localeCompare","error","catch","displayTicker","toUpperCase","style","width","maxWidth","textAlign","color","background","padding","borderRadius","boxShadow","children","margin","fontWeight","fontSize","index"],"sources":["C:/Users/pante/OneDrive/Έγγραφα/Capestone project/frontend/src/content.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\nimport {\r\n  Table,\r\n  TableHeader,\r\n  TableColumn,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n} from \"@nextui-org/react\";\r\n\r\nconst Content = ({ marginTop = \"20px\" }) => {\r\n  const location = useLocation();\r\n  const [stockInfo, setStockInfo] = useState([]);\r\n  const { ticker } = useParams();\r\n\r\n  const isSummaryPage =\r\n    location.pathname.includes(\"summary\") || typeof ticker === \"undefined\";\r\n\r\n  console.log({\r\n    location,\r\n    stockInfo,\r\n    isSummaryPage,\r\n    ticker,\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Check if the ticker is defined before attempting to fetch stock info\r\n    if (ticker) {\r\n      fetch(`https://mcsbt-integration-vr.ew.r.appspot.com/${ticker}`)\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          if (data && data.stock_info) {\r\n            let formattedData = Object.entries(data.stock_info).map(\r\n              ([date, info]) => ({\r\n                date,\r\n                open: info[\"1. open\"],\r\n                high: info[\"2. high\"],\r\n                low: info[\"3. low\"],\r\n                close: info[\"4. close\"],\r\n                volume: info[\"5. volume\"],\r\n              })\r\n            );\r\n            formattedData.sort((a, b) => b.date.localeCompare(a.date));\r\n            setStockInfo(formattedData);\r\n          } else {\r\n            console.error(\"Missing or invalid stock_info data\");\r\n            setStockInfo([]);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error fetching stock information:\", error);\r\n          setStockInfo([]);\r\n        });\r\n    }\r\n  }, [ticker]); // Depend on ticker for re-fetching data\r\n\r\n  const displayTicker = ticker ? ticker.toUpperCase() : \"N/A\";\r\n\r\n  if (isSummaryPage) {\r\n    return (\r\n      <div\r\n        style={{\r\n          marginTop,\r\n          width: \"100%\",\r\n          maxWidth: \"800px\",\r\n          textAlign: \"center\",\r\n          color: \"green\", // Adjust the color for the summary page\r\n          background: \"purple\", // Light background color for contrast\r\n          padding: \"20px\",\r\n          borderRadius: \"8px\",\r\n          boxShadow: \"0 4px 14px 0 rgba(0,0,0,0.1)\",\r\n        }}\r\n      >\r\n        <h1> LISTOCK</h1>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ marginTop, width: \"100%\", maxWidth: \"800px\" }}>\r\n      <h2\r\n        style={{\r\n          color: \"purple\",\r\n          margin: \"0 0 20px\",\r\n          fontWeight: \"800\",\r\n          fontSize: \"20px\",\r\n        }}\r\n      >\r\n        {displayTicker} ($)\r\n      </h2>\r\n      <Table aria-label=\"Stock\">\r\n        <TableHeader>\r\n          <TableColumn width=\"30%\">Date</TableColumn>\r\n          <TableColumn width=\"30%\">Open</TableColumn>\r\n          <TableColumn width=\"30%\">High</TableColumn>\r\n          <TableColumn width=\"30%\">Low</TableColumn>\r\n          <TableColumn width=\"30%\">Close</TableColumn>\r\n          <TableColumn width=\"30%\">Volume</TableColumn>\r\n        </TableHeader>\r\n        <TableBody>\r\n          {stockInfo.map((info, index) => (\r\n            <TableRow key={index}>\r\n              <TableCell>{info.date}</TableCell>\r\n              <TableCell>{info.open}</TableCell>\r\n              <TableCell>{info.high}</TableCell>\r\n              <TableCell>{info.low}</TableCell>\r\n              <TableCell>{info.close}</TableCell>\r\n              <TableCell>{info.volume}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Content;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}