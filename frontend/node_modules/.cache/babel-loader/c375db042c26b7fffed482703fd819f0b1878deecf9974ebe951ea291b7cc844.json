{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./App.css\";// Ensure your CSS file is correctly linked\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[portfolio,setPortfolio]=useState({totalValue:0,symbols:[]});const[selectedSymbolData,setSelectedSymbolData]=useState(null);useEffect(()=>{// Fetch portfolio data\nfetch(\"/portfolio_symbols\").then(response=>response.json()).then(data=>setPortfolio({totalValue:data.total_portfolio_value,symbols:data.stocks})).catch(error=>console.error(\"Error:\",error));},[]);const handleSymbolClick=ticker=>{// Fetch data for selected symbol\nfetch(\"/weekly_series/\".concat(ticker)).then(response=>response.json()).then(data=>setSelectedSymbolData(data)).catch(error=>console.error(\"Error:\",error));};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to LIStock\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Portfolio Value: \",portfolio.totalValue]}),/*#__PURE__*/_jsx(\"ul\",{className:\"symbol-list\",children:portfolio.symbols.map(symbol=>/*#__PURE__*/_jsx(\"li\",{onClick:()=>handleSymbolClick(symbol.ticker),children:symbol.ticker},symbol.ticker))}),selectedSymbolData&&/*#__PURE__*/_jsx(SymbolDetails,{data:selectedSymbolData.data})]})});}function SymbolDetails(_ref){let{data}=_ref;// Assuming 'data' is an object with dates as keys and is sorted from oldest to newest\nconst entries=Object.entries(data);const mostRecentEntries=entries.length>2?entries.slice(-2):entries;// Get last two entries\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"symbol-details\",children:mostRecentEntries.map(_ref2=>{let[date,details]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"week-data\",children:[/*#__PURE__*/_jsx(\"h3\",{children:date}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Open: \",details[\"1. open\"]]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"High: \",details[\"2. high\"]]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Low: \",details[\"3. low\"]]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Close: \",details[\"4. close\"]]})]},date);})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","portfolio","setPortfolio","totalValue","symbols","selectedSymbolData","setSelectedSymbolData","fetch","then","response","json","data","total_portfolio_value","stocks","catch","error","console","handleSymbolClick","ticker","concat","className","children","map","symbol","onClick","SymbolDetails","_ref","entries","Object","mostRecentEntries","length","slice","_ref2","date","details"],"sources":["C:/Users/pante/OneDrive/Έγγραφα/Capestone project/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\"; // Ensure your CSS file is correctly linked\n\nfunction App() {\n  const [portfolio, setPortfolio] = useState({ totalValue: 0, symbols: [] });\n  const [selectedSymbolData, setSelectedSymbolData] = useState(null);\n\n  useEffect(() => {\n    // Fetch portfolio data\n    fetch(\"/portfolio_symbols\")\n      .then((response) => response.json())\n      .then((data) =>\n        setPortfolio({\n          totalValue: data.total_portfolio_value,\n          symbols: data.stocks,\n        })\n      )\n      .catch((error) => console.error(\"Error:\", error));\n  }, []);\n\n  const handleSymbolClick = (ticker) => {\n    // Fetch data for selected symbol\n    fetch(`/weekly_series/${ticker}`)\n      .then((response) => response.json())\n      .then((data) => setSelectedSymbolData(data))\n      .catch((error) => console.error(\"Error:\", error));\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Welcome to LIStock</h1>\n        <p>Total Portfolio Value: {portfolio.totalValue}</p>\n        <ul className=\"symbol-list\">\n          {portfolio.symbols.map((symbol) => (\n            <li\n              key={symbol.ticker}\n              onClick={() => handleSymbolClick(symbol.ticker)}\n            >\n              {symbol.ticker}\n            </li>\n          ))}\n        </ul>\n        {selectedSymbolData && <SymbolDetails data={selectedSymbolData.data} />}\n      </header>\n    </div>\n  );\n}\n\nfunction SymbolDetails({ data }) {\n  // Assuming 'data' is an object with dates as keys and is sorted from oldest to newest\n  const entries = Object.entries(data);\n  const mostRecentEntries = entries.length > 2 ? entries.slice(-2) : entries; // Get last two entries\n  return (\n    <div className=\"symbol-details\">\n      {mostRecentEntries.map(([date, details]) => (\n        <div key={date} className=\"week-data\">\n          <h3>{date}</h3>\n          <p>Open: {details[\"1. open\"]}</p>\n          <p>High: {details[\"2. high\"]}</p>\n          <p>Low: {details[\"3. low\"]}</p>\n          <p>Close: {details[\"4. close\"]}</p>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}